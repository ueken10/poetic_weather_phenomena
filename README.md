# 詩的気象現象 - Poetic Weather Phenomena

Three.jsを使った、気象現象を「描く主体」として捉え、空がつくり出す変化を「詩的現象」として表現した27秒間の映像作品。

**Challenge**: https://neort.io/challenge/d4jnm6gdfqamt6d2u5b0

## 概要

このプロジェクトは、天気の移り変わりを4つのフェーズで表現した実験的なビジュアル作品です。霧、雲、雨という気象要素がパーティクルシステムとシェーダーによって描かれ、時間の経過とともに空の表情が変化します。

## 作品の構成（27秒）

1. **オープニング（0-7秒）**
   textGeometryでSHIBUYAという赤いワイヤーフレームの文字列を表示する。
   - 0-4秒：文字列を表示（回転なし）
   - 4-7秒：頂点が徐々に散らばりながらフェードアウト

2. **朝霧（0-7秒）**  
   静かな霧が空を包み込み、ゆっくりと上昇して消えていく様子

3. **雲の形成（7-14秒）**  
   空に雲が現れ、激しく流れながら形を変える

4. **雨（14-21秒）**  
   雲が暗くなり、雨が降り始める。光が弱まり、空気が重くなる

5. **雨上がり（21-27秒）**  
   雨が止み、光が差し込み、明るさが戻る

6. **クロージング（19-27秒）**
   BarramundiFishというglTFサンプルモデル（5匹）をワイヤーフレームで表示。
   - サイズ：最初5、中間30、最後5に変化
   - 透明度：最初薄く、中間濃く、最後薄く変化
   - 動き：ふわふわと浮遊しながら右から左へゆっくり移動
   - 各魚は異なる高さ、深度、速度で動作

   https://github.com/KhronosGroup/glTF-Sample-Models/tree/main/2.0/BarramundiFish

## 技術仕様

- **言語**: JavaScript (ES6 Modules)
- **ライブラリ**: Three.js (v0.160.0)
- **ロード方式**: CDN (import maps)
- **依存関係**: なし（ブラウザのみで動作）

### 主な技術要素

- **パーティクルシステム**: 霧・雲・雨の表現
- **カスタムシェーダー**: 空のグラデーション
- **プロシージャル地形**: でこぼこの地表をワイヤーフレームで表示
- **アニメーション**: 地表の波動、雲の動き、カメラの移動
- **ライティング**: 時間による照明の変化

## 使い方

1. `index.html`をブラウザで開く
2. 自動的にアニメーションが開始されます
3. 27秒後に自動的にループします

```bash
# ローカルサーバーで実行する場合（推奨）
npx http-server .
```

または、直接ファイルを開く：
```
file:///path/to/index.html
```

## 対応ブラウザ

- Chrome（推奨）
- Firefox
- Safari
- Edge

※ WebGL対応ブラウザが必要です

## 特徴的な表現

### 動的な雲
雲は単純な水平移動ではなく、サイン・コサイン関数を使って3次元空間で波打つように動き、回転しながら流れていきます。

### 波打つ地表
地表は時間とともに波のように変形し、まるで呼吸するような有機的な動きを見せます。

### 時間による色彩変化
空の色は4つのフェーズごとに変化し、朝の静けさから昼の明るさ、雨の暗さ、そして雨上がりの清々しさへと移り変わります。

## カスタマイズ

### アニメーション時間の変更
```javascript
const DURATION = 27; // この値を変更
```

### パーティクル数の調整
```javascript
const mistCount = 800;    // 霧
const cloudCount = 50;    // 雲（1つあたり）
const rainCount = 3000;   // 雨
```

### 地表の解像度
```javascript
const groundGeometry = new THREE.PlaneGeometry(100, 100, 50, 50);
// 最後の2つの数値を変更（セグメント数）
```

## ライセンス

MIT License

## 作者

2025年12月27日
